ALTER TABLE BILLING_DOC ADD PAYMENT_ID ID_TYPE;
ALTER TABLE BILLING_DOC ADD CONSTRAINT BILLING_DOC_PMT_ID_FK FOREIGN KEY (PAYMENT_ID) REFERENCES PAYMENT;

CREATE TABLE PAYMENT
(
   PAYMENT_ID         ID_TYPE NOT NULL,
   PAYMENT_NO         CODE_TYPE NOT NULL,
   PAYMENT_DATE       NAME_TYPE NOT NULL,
   TO_BANK_ID         ID_TYPE,
   TO_BANK_BRANCH     ID_TYPE,
   ACCOUNT_NO         CODE_TYPE,
   COMMIT_FLAG        FLAG_TYPE,
   TX_TYPE            CODE_TYPE,

   CREATE_DATE        DATE_TYPE NOT NULL,
   CREATE_BY          ID_TYPE NOT NULL,
   MODIFY_DATE        DATE_TYPE NOT NULL,
   MODIFY_BY          ID_TYPE NOT NULL
);

ALTER TABLE PAYMENT ADD CONSTRAINT PAYMENT_ID_PK PRIMARY KEY (PAYMENT_ID);
ALTER TABLE PAYMENT ADD CONSTRAINT PAYMENT_BANK_ID_FK FOREIGN KEY (TO_BANK_ID) REFERENCES BANK;
ALTER TABLE PAYMENT ADD CONSTRAINT PAYMENT_BBRANCH_ID_FK FOREIGN KEY (TO_BANK_BRANCH) REFERENCES BANK_BRANCH;

CREATE GENERATOR PAYMENT_SEQ;


CREATE TABLE PAYMENT_ITEM
(
   PAYMENT_ITEM_ID    ID_TYPE NOT NULL,
   PAYMENT_ID         ID_TYPE NOT NULL,
   PAYMENT_TYPE       ID_TYPE,
   CHECK_NO           CODE_TYPE,
   BANK_ID            ID_TYPE,
   BANK_BRANCH        ID_TYPE,
   BANK_NOTE          DESC_TYPE,

   CREATE_DATE        DATE_TYPE NOT NULL,
   CREATE_BY          ID_TYPE NOT NULL,
   MODIFY_DATE        DATE_TYPE NOT NULL,
   MODIFY_BY          ID_TYPE NOT NULL
);

ALTER TABLE PAYMENT_ITEM ADD CONSTRAINT PAYMENT_ITEM_ID_PK PRIMARY KEY (PAYMENT_ITEM_ID);
ALTER TABLE PAYMENT_ITEM ADD CONSTRAINT PAYMENT_ITEM_PMT_ID_FK FOREIGN KEY (PAYMENT_ID) REFERENCES PAYMENT;
ALTER TABLE PAYMENT_ITEM ADD CONSTRAINT PAYMENT_ITEM_BANK_ID_FK FOREIGN KEY (BANK_ID) REFERENCES BANK;
ALTER TABLE PAYMENT_ITEM ADD CONSTRAINT PAYMENT_ITEM_BBANK_ID_FK FOREIGN KEY (BANK_BRANCH) REFERENCES BANK_BRANCH;

CREATE GENERATOR PAYMENT_ITEM_SEQ;
