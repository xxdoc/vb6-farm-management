
CREATE TABLE BANK_ACCOUNT
(
   BANK_ACCOUNT_ID       ID_TYPE NOT NULL,
   ACCOUNT_NO            CODE_TYPE NOT NULL,
   ACCOUNT_NAME          NAME_TYPE NOT NULL,

   CREATE_DATE           DATE_TYPE NOT NULL,
   CREATE_BY             ID_TYPE NOT NULL,
   MODIFY_DATE           DATE_TYPE NOT NULL,
   MODIFY_BY             ID_TYPE NOT NULL
);

ALTER TABLE BANK_ACCOUNT ADD CONSTRAINT BANK_ACCOUNT_ID_PK PRIMARY KEY (BANK_ACCOUNT_ID);

CREATE GENERATOR BANK_ACCOUNT_SEQ;

ALTER TABLE PAYMENT ADD BANK_ACCOUNT_ID ID_TYPE;
ALTER TABLE PAYMENT ADD CONSTRAINT PAYMENT_BANK_ACCOUNT_ID_FK FOREIGN KEY (BANK_ACCOUNT_ID) REFERENCES BANK_ACCOUNT;

/* RUN PROGRAM TO CREATE BANK_ACCOUNT */

if BRANCH_CODE = 'MA2' then
   DELETE FROM PAYMENT WHERE PAYMENT_ID = 142;
   DELETE FROM PAYMENT_ITEM WHERE PAYMENT_ID = 142;
end if